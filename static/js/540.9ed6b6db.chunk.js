"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[540],{794:function(t,n,e){e.d(n,{Mc:function(){return f},eH:function(){return m},mv:function(){return d},oJ:function(){return h},wr:function(){return i}});var r=e(861),c=e(757),a=e.n(c),u=e(388),s="https://api.themoviedb.org/3/",o="2f202abcab3fe0934220a17698275697";function i(){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(a().mark((function t(){var n,e;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"trending/movie/day?api_key=").concat(o));case 2:return n=t.sent,t.next=5,n.json();case 5:return e=t.sent,t.abrupt("return",e);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"movie/").concat(n,"?api_key=").concat(o));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return v.apply(this,arguments)}function v(){return(v=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"movie/").concat(n,"/reviews?api_key=").concat(o));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function m(t){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"movie/").concat(n,"/credits?api_key=").concat(o));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function d(t){return w.apply(this,arguments)}function w(){return(w=(0,r.Z)(a().mark((function t(n){var e,r;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(u.Z.get("".concat(s,"search/movie/?api_key=").concat(o,"&query=").concat(n))),t.next=3,u.Z.get("".concat(s,"search/movie/?api_key=").concat(o,"&query=").concat(n));case 3:return e=t.sent,console.log(e.data),t.next=7,e.data;case 7:return r=t.sent,t.abrupt("return",r);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},540:function(t,n,e){e.r(n),e.d(n,{default:function(){return h}});var r=e(861),c=e(885),a=e(757),u=e.n(a),s=e(791),o=e(731),i=e(184);var p=function(t){var n=t.movieData,e=n.backdrop_path,r=n.title,c=n.id,a="https://www.themoviedb.org/t/p/w220_and_h330_face"+e;return(0,i.jsx)("li",{children:(0,i.jsxs)(o.rU,{to:"/movies/".concat(c),children:[(0,i.jsx)("img",{src:a,alt:r}),(0,i.jsx)("h2",{children:r})]})})};var f=function(t){var n=t.moviesData,e=n.results;return console.log(n),(0,i.jsx)(i.Fragment,{children:e.length>0?(0,i.jsx)("ul",{children:e.map((function(t){return(0,i.jsx)(p,{movieData:t},t.id)}))}):(0,i.jsx)("p",{children:"No results found!"})})},l=e(794);var h=function(){var t=(0,s.useState)(null),n=(0,c.Z)(t,2),e=n[0],a=n[1],p=(0,o.lr)(),h=(0,c.Z)(p,2),v=h[0],m=h[1],x=(0,s.useCallback)((0,r.Z)(u().mark((function t(){var n,e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(n=v.get("query"))){t.next=7;break}return t.next=5,(0,l.mv)(n);case 5:e=t.sent,a(e);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[v]);return(0,s.useEffect)((function(){x()}),[x]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("form",{onSubmit:function(t){t.preventDefault();var n=t.target.input.value;if(null===n||null!==n.match(/^ *$/))return alert("Type in something!");m({query:n}),t.currentTarget.reset()},children:(0,i.jsx)("input",{name:"input"})}),e&&(0,i.jsx)(f,{moviesData:e})]})}}}]);
//# sourceMappingURL=540.9ed6b6db.chunk.js.map