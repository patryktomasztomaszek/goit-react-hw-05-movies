"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[810],{794:function(t,e,n){n.d(e,{Mc:function(){return f},eH:function(){return h},mv:function(){return _},oJ:function(){return v},wr:function(){return i}});var r=n(861),a=n(757),c=n.n(a),s="https://api.themoviedb.org/3/",u="2f202abcab3fe0934220a17698275697";function i(){return o.apply(this,arguments)}function o(){return(o=(0,r.Z)(c().mark((function t(){var e,n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"trending/movie/day?api_key=").concat(u));case 2:return e=t.sent,t.next=5,e.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function f(t){return p.apply(this,arguments)}function p(){return(p=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"movie/").concat(e,"?api_key=").concat(u));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(t){return l.apply(this,arguments)}function l(){return(l=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"movie/").concat(e,"/reviews?api_key=").concat(u));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function h(t){return m.apply(this,arguments)}function m(){return(m=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"movie/").concat(e,"/credits?api_key=").concat(u));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function _(t){return x.apply(this,arguments)}function x(){return(x=(0,r.Z)(c().mark((function t(e){var n,r;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(s,"search/movie?api_key=").concat(u,"&query=").concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},810:function(t,e,n){n.r(e),n.d(e,{default:function(){return y}});var r=n(861),a=n(885),c=n(757),s=n.n(c),u=n(791),i=n(731),o="MoviesListItem_item__sWCbb",f="MoviesListItem_item__content__BhaiY",p="MoviesListItem_item__image__VhIC0",v="MoviesListItem_item__title__kf6kT",l=n(184);var h=function(t){var e=t.movieData,n=e.backdrop_path,r=e.title,a=e.id,c="https://www.themoviedb.org/t/p/w220_and_h330_face"+n,s=o,u=f,h=p,m=v;return(0,l.jsx)("li",{className:s,children:(0,l.jsxs)(i.rU,{className:u,to:"/movies/".concat(a),children:[(0,l.jsx)("img",{className:h,src:c,alt:r}),(0,l.jsx)("h2",{className:m,children:r})]})})},m="MoviesList_list__Ea3rL";var _=function(t){var e=t.moviesData.results,n=m;return(0,l.jsx)(l.Fragment,{children:e.length>0?(0,l.jsx)("ul",{className:n,children:e.map((function(t){return(0,l.jsx)(h,{movieData:t},t.id)}))}):(0,l.jsx)("p",{children:"No results found!"})})},x=n(794),d="MoviesPage_searchbar__86DF1",w="MoviesPage_searchbar__input__nHaq9";var y=function(){var t=(0,u.useState)(null),e=(0,a.Z)(t,2),n=e[0],c=e[1],o=(0,i.lr)(),f=(0,a.Z)(o,2),p=f[0],v=f[1],h=(0,u.useCallback)((0,r.Z)(s().mark((function t(){var e,n;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!(e=p.get("query"))){t.next=7;break}return t.next=5,(0,x.mv)(e);case 5:n=t.sent,c(n);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),[p]);(0,u.useEffect)((function(){h()}),[h]);var m=d,y=w;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("form",{className:m,onSubmit:function(t){t.preventDefault();var e=t.target.input.value;if(null===e||null!==e.match(/^ *$/))return alert("Type in something!");v({query:e}),t.currentTarget.reset()},children:(0,l.jsx)("input",{className:y,name:"input"})}),n&&(0,l.jsx)(_,{moviesData:n})]})}},861:function(t,e,n){function r(t,e,n,r,a,c,s){try{var u=t[c](s),i=u.value}catch(o){return void n(o)}u.done?e(i):Promise.resolve(i).then(r,a)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(a,c){var s=t.apply(e,n);function u(t){r(s,a,c,u,i,"next",t)}function i(t){r(s,a,c,u,i,"throw",t)}u(void 0)}))}}n.d(e,{Z:function(){return a}})}}]);
//# sourceMappingURL=810.46443243.chunk.js.map